{% extends "store/base.html" %}

{% block title %}Savanna Circuit Store - Premium Agricultural Solutions{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-modern">
    <div class="hero-background">
        <video autoplay muted loop playsinline class="bg-media">
            <source src="/shared/images/product page.mp4" type="video/mp4">
        </video>
    </div>
    <div class="hero-lead-card">
        <h1>Savanna Circuit Store</h1>
        <p>Premium agricultural solutions with flexible financing options</p>
    </div>
</section>

<!-- Filter Section -->
<section class="filter-section">
    <div class="section-container">
        <h2>Shop by Category</h2>
        <div class="filter-buttons">
            <button class="filter-btn active" onclick="filterProducts('all')">All Products</button>
            <button class="filter-btn" onclick="filterProducts('solar-cooling')">Solar Cooling</button>
            <button class="filter-btn" onclick="filterProducts('SOLAR-THRIVE')">SOLAR THRIVE</button>
            <button class="filter-btn" onclick="filterProducts('drying-systems')">Drying Systems</button>
            <button class="filter-btn" onclick="filterProducts('Financing-Options')">Financing Options</button>
        </div>
    </div>
</section>

<!-- Products Grid -->
<section class="products-showcase">
    <div class="section-container">
        
        {% set categories = [
            ('SOLAR-THRIVE', 'SOLAR THRIVE Collection'),
            ('solar-cooling', 'Solar Cooling Solutions'),
            ('drying-systems', 'Drying Systems')
        ] %}

        {% for cat_id, cat_title in categories %}
        <div id="{{ cat_id }}" class="product-category">
            <h3 class="category-title">{{ cat_title }}</h3>
            <div class="products-grid">
                {% for product in products if product.category == cat_id %}
                <div class="product-card" data-category="{{ product.category }}">
                    <img class="product-image" loading="lazy" src="/shared/{{ product.image }}" alt="{{ product.name }}">
                    <h4>{{ product.name }}</h4>
                    <p class="product-spec">{{ product.spec }}</p>
                    <p class="product-description">{{ product.description }}</p>
                    <div class="product-actions">
                        <a href="{{ url_for('store.product_detail', product_id=product.id) }}" class="cta-button secondary">Learn More</a>
                        <button class="cta-button primary add-to-cart" data-product="{{ product.name }}">Add to Cart</button>
                        <a href="https://wa.me/254714574007?text=Hello%20Savanna%20Circuit,%20I%20would%20like%20a%20quote%20for%20{{ product.name }}" target="_blank" rel="noopener" class="cta-button secondary">Request Quote</a>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
        {% endfor %}

        <!-- Financing Section -->
        <div id="Financing-Options" class="product-category">
            <h3 class="category-title">Financing Options</h3>
            <div class="products-grid">
                {% for option in financing %}
                <div class="product-card" data-category="Financing-Options">
                    <h3>{{ option.name }}</h3>
                    <p>{{ option.description }}</p>
                    <a href="{{ option.link }}" target="_blank" rel="noopener" class="cta-button secondary">Learn More</a>
                </div>
                {% endfor %}
            </div>
        </div>

    </div>
</section>
{% endblock %}
